function display(e,t){void 0===t&&(t=3e3);var a=document.querySelector("#status");a.innerHTML=e,a.style.display="block",setTimeout(function(){a=document.querySelector("#status"),a.innerHTML="",a.style.display="none"},t)}function markFormErrors(e,t){for(var a=0;a<t.length;a++)"undefined"!=typeof document.forms[1].elements[t[a]]?e.elements[t[a]].className+=" error":e.querySelector("#"+t[a]).className+=" error"}function clearFormErrors(e){for(var t=0;t<e.length;t++)e[t].className=e[t].className.replace("error","")}function getHoverDiv(e){var o,s,t=document.createElement("div"),a=window.pageYOffset,n=document.body.clientWidth;if(o=n>640?640:300>n?300:n-10,s=Math.abs(Math.floor((n-o)/2)),t.className="hover",t.style.overflow="hidden",t.style.top=a+10+"px",t.style.left=s+"px",t.style.width=o+"px",t.style.textAlign="center",t.innerHTML="<img src='/style/loading.gif' />",e){var r=document.createElement("div");r.style.top=0,r.style.position="fixed",r.style.bottom=0,r.style.right=0,r.style.left=0,r.style.background="black",r.style.opacity="0.8",r.style.zIndex=999,document.body.appendChild(r)}var i=function(a){(27===a.keyCode||"click"===a.type)&&(document.body.removeChild(t),e?document.body.removeChild(r):"",window.removeEventListener("keyup",i))};return t.onclick=i,e?r.onclick=i:"",window.addEventListener("keyup",i),t}function ajaxLink(e,t){var a=null;"click"===e.type&&(e.preventDefault(),e=e.target);var n=document.querySelector("#center-container"),o=n.firstElementChild.firstElementChild;"block"===n.style.display&&o.click();var s=e.href||e.src||null;null===s&&(s=e.getAttribute("data-src"),a={e:e,html:e.innerHTML,className:e.className},e.style.width=e.getBoundingClientRect().width+"px",e.innerHTML='&nbsp;<img src="/public/assets/icons/loading.gif" class="loader-indicator">&nbsp;');var r=s.indexOf(".jpg")>-1||s.indexOf(".png")>-1?!0:!1,i=n.firstElementChild,l=i.lastElementChild.firstElementChild;n.style.display="block",s.indexOf("/produkt/")>-1||e.width?e.width?n.firstElementChild.style.maxWidth=e.width+"px":n.firstElementChild.style.maxWidth="850px":n.firstElementChild.style.maxWidth="",i.className+=" fade-text";var p=function(e){i.style.width="95%",l.innerHTML=e;var s,r=l.parentElement.scrollHeight,c=window.innerHeight;r+60>c?(s=c-50,i.style.marginTop="2em"):(i.style.marginTop="6em",s=r+5),i.style.height=s+"px",o.style.display="block",a&&(a.e.innerHTML=a.html,a=null),setTimeout(function(){var e=n.getElementsByTagName("form");if(0!==e.length)try{e[0].querySelector("[type=text]").focus()}catch(t){}},100),setTimeout(function(){var e=l.querySelectorAll("img");if(e)for(var t=0;t<e.length;t++)e[t].addEventListener("load",function(){updatePopupSize()},!1)},50),setTimeout(updatePopupSize,20),t&&(console.log(t),t())};o.style.display="none";try{if(0===e.href.substr(window.location.origin.length).indexOf("#"))return}catch(u){}if(e.hasOwnProperty("offline"))"block"===n.style.display&&o.click(),p('<div class="'+(e["class"]||"")+'" style="padding-top:'+(e.paddingTop||0)+'">'+e.href+"</div>");else if(r){var d=document.createElement("img");d.src=s,d.onload=function(){var e=d.width,t=d.height;d.height>document.documentElement.clientHeight&&(t=document.documentElement.clientHeight-20,e=Math.round(t/(d.height/d.width))),e>document.documentElement.clientWidth&&(e=document.documentElement.clientWidth-20,t=Math.round(e/(d.width/d.height))),e>640&&(i.style.maxWidth=e+"px"),i.style.width=e+"px",i.style.height=t+"px",i.style.margin="auto",l.appendChild(d),l.style.padding=0,i.style.overflow="hidden"}}else ajax.get(s,{},function(e){p(e)});var f,m=function(e){(e.target===n||"img"===e.target.tagName.toLowerCase())&&f(e)};return f=function(e){(27===e.keyCode||"click"===e.type)&&(n.style.display="none",l.innerHTML="",i.style.height="",i.className=i.className.replace(" fade-text",""),i.style.width="",window.removeEventListener("keyup",f),o.removeEventListener("click",f),n.removeEventListener("click",m),r&&(l.style.padding="",i.style.overflow="auto",i.style.maxWidth="",i.style.height=i.style.width=""))},o.addEventListener("click",f,!1),n.addEventListener("click",m,!1),window.addEventListener("keyup",f,!1),n}function updatePopupSize(){var e=document.getElementById("center-container").firstElementChild,t=e.scrollHeight,a=window.innerHeight;t+60>a?(newHeight=a-50,e.style.marginTop="2em"):(e.style.marginTop="6em",newHeight=t+5),e.style.height=newHeight+10+"px"}function uploadForm(e,t){ajax.contentType=e.enctype,ajax.fileUpload="multipart/form-data"===ajax.contentType,postForm(e,e.action,t)}function postForm(e,t,a){t.stopImmediatePropagation();var n=null;if(t.preventDefault(),t.stopPropagation(),!(e.className.indexOf("sending")>-1)){e.className+=" sending";var o=document.activeElement,s=!1;console.log(o.type),"submit"===o.type?s=!0:(o=e.querySelector("[type=submit]"),null!==o&&(s=!0)),s&&(n={e:o,html:o.innerHTML,className:o.className},o.style.width=o.getBoundingClientRect().width+"px",o.innerHTML='&nbsp;<img src="/public/assets/icons/loading.gif" class="loader-indicator">&nbsp;'),clearFormErrors(e.querySelectorAll(".error"));var r=e.elements,i=e.querySelector(".loader")||!1;i&&(i.style.display="inline-block");var l=e.getAttribute("action"),c=e.getAttribute("method")||"post";return c=c.toLowerCase(),ajax[c](l,r,function(t){if(n&&(n.e.innerHTML=n.html,n=null),e.className=e.className.replace("sending",""),a)a(t);else try{if("{"!==t[0])return void ajaxLink({href:t,offline:!0});var o=JSON.parse(t);if(o.success===!0)if(o.hasOwnProperty("redirect")&&(window.location=o.redirect),o.hasOwnProperty("popup")){var s=o["class"]||"large-form",r=o.padding||"";ajaxLink({"class":s,href:o.popup,paddingTop:r,offline:!0})}else if(o.hasOwnProperty("replace")){var i=o["class"]||"text-center";e.parentNode.className+=" "+i,e.parentNode.innerHTML=o.replace}else o.hasOwnProperty("display")&&display(o.display),e.reset();else console.log("errors"),o.hasOwnProperty("form")&&markFormErrors(e,o.form),o.hasOwnProperty("popup")&&alert(o.popup)}catch(l){console.log("Exception parsing JSON: "+l.message),console.log(o);try{display(t)}catch(l){console.log("Display(data) Exception : "+l.message),alert("Stala sa neočakávaná chyba. Skúste neskôr, alebo nás kontaktujte telefonicky")}}}),!1}}function navigate(e,t){var a=document.querySelectorAll(".calendar-wrap");if(0!==a.length){for(var n=0;n<a.length;n++)a[n].style.backgroundImage="url(/style/loading.gif)";ajax.get("/logic/calendar/calendar.php",{month:e||"a",year:t||"a"},function(e){for(var t=0;t<a.length;t++)a[t].style.backgroundImage="",a[t].innerHTML=e})}}function antis(e,t){document.forms[t].elements.check.previousElementSibling.innerHTML=e.value.length,document.forms[t].elements.check.setAttribute("placeholder",e.value.length+parseInt(document.forms[t].elements.seed.value))}function permanentHide(e){e.target.parentNode.style.display="none";var t=localStorage.getItem("hidden"),a=[];null!==t&&(a=JSON.parse(t)),a.push(e.target.parentNode.id),localStorage.setItem("hidden",JSON.stringify(a)),document.querySelector("#reveal-button").style.visibility="visible"}function toggleLang(e){var t="en"===e.className?!0:!1,a=window.location.pathname.indexOf("en/")>-1;return t&&a||!t&&!a?!1:void(t?window.location="/en"+window.location.pathname:a&&(window.location=window.location.pathname.replace("en/","")))}function closeNotification(e){var t=e.getAttribute("data-title");if(t){var a=new Date(0);a.setSeconds(parseInt(e.getAttribute("data-expire")));var n=a.toUTCString(),o=e.getAttribute("data-scope"),s=location.host.split("."),r="";for(r=3===s.length?"."+s[1]+"."+s[2]:"."+s[0]+"."+s[1],document.cookie=t+"=hidden; expires="+n+"; domain="+r+"; path="+o;-1===e.className.indexOf("wrapper");)e=e.parentNode}null===t&&(e=e.parentNode),e.parentNode.removeChild(e)}var ajax={defaultContentType:"application/x-www-form-urlencoded",fileUpload:!1};ajax.send=function(e,t,a,n){var o=new XMLHttpRequest;o.open(a,e,!0),o.onreadystatechange=function(){4==o.readyState&&t(""!==o.responseType?o.response:o.responseText)},"POST"!=a||ajax.fileUpload||o.setRequestHeader("Content-type",ajax.defaultContentType),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(n),ajax.fileUpload=!1},ajax.get=function(e,t,a){var n=[];for(var o in t)""!==o&&""!==t[o]&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));ajax.send(e+(0!==n.length?"?"+n.join("&"):""),a,"GET",null)},ajax.post=function(e,t,a){try{var n=[];if("[object Object]"==t.toString())for(var s in t)n.push(encodeURIComponent(s)+"="+encodeURIComponent(t[s]));else{for(var r=document.activeElement.hasAttribute("type")?document.activeElement.getAttribute("type"):!1,i=[],l=0;l<t.length;l++)switch(t[l].type){case"select":case"select-multiple":for(var c=0,p=t[l].options.length;p>c;c++)t[l].options[c].selected&&n.push(encodeURIComponent(t[l].name)+"="+t[l].options[c].value);break;case"radio":t[l].checked&&n.push(encodeURIComponent(t[l].name)+"="+t[l].value);break;case"checkbox":t[l].checked&&n.push(encodeURIComponent(t[l].name)+"="+t[l].value||"on");break;case"submit":i.push(t[l]);break;case"file":if(void 0===window.FormData)return;for(var u=new FormData,c=0;c<t[l].files.length;c++){var d=t[l].files[c];console.log("file name: "+t[l].name),u.append(t[l].name,d,d.name)}ajax.fileUpload=!0,ajax.send(e,a,"POST",u);break;default:var f=encodeURIComponent(t[l].value);n.push(encodeURIComponent(t[l].name)+"="+f)}r&&("submit"===r?n.push(document.activeElement.name+"="+document.activeElement.value):i.length>0&&n.push(i[0].name+"="+i[0].value))}if(0===n.length||"="===n.toString())return;ajax.send(e,a,"POST",n.join("&"))}catch(m){display(m.message)}},!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var a={exports:{}};t(a.exports,a),e.autosize=a.exports}}(this,function(e,t){"use strict";function a(e){function t(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),c="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),n()}function a(t){var a=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=a,p=t,l&&(e.style.overflowY=t),n()}function n(){var t=e.style.height,n=document.documentElement.scrollTop,o=document.body.scrollTop,s=e.style.height;e.style.height="auto";var r=e.scrollHeight+c;if(0===e.scrollHeight)return void(e.style.height=s);e.style.height=r+"px",document.documentElement.scrollTop=n,document.body.scrollTop=o;var i=window.getComputedStyle(e,null);if(i.height!==e.style.height){if("visible"!==p)return void a("visible")}else if("hidden"!==p)return void a("hidden");if(t!==e.style.height){var l=document.createEvent("Event");l.initEvent("autosize:resized",!0,!1),e.dispatchEvent(l)}}var o=void 0===arguments[1]?{}:arguments[1],s=o.setOverflowX,r=void 0===s?!0:s,i=o.setOverflowY,l=void 0===i?!0:i;if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!e.hasAttribute("data-autosize-on")){var c=null,p="hidden",u=function(t){window.removeEventListener("resize",n),e.removeEventListener("input",n),e.removeEventListener("keyup",n),e.removeAttribute("data-autosize-on"),e.removeEventListener("autosize:destroy",u),Object.keys(t).forEach(function(a){e.style[a]=t[a]})}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",u),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",n),window.addEventListener("resize",n),e.addEventListener("input",n),e.addEventListener("autosize:update",n),e.setAttribute("data-autosize-on",!0),l&&(e.style.overflowY="hidden"),r&&(e.style.overflowX="hidden",e.style.wordWrap="break-word"),t()}}function n(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=document.createEvent("Event");t.initEvent("autosize:destroy",!0,!1),e.dispatchEvent(t)}}function o(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=document.createEvent("Event");t.initEvent("autosize:update",!0,!1),e.dispatchEvent(t)}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(s=function(e){return e},s.destroy=function(e){return e},s.update=function(e){return e}):(s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return a(e,t)}),e},s.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],n),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.exports=s}),window.onload=function(){var e=document.querySelector(".switch-wrap");if(null!==e){var t=function(){var t=null;return{"switch":function(){null!==t&&(t.className=t.className.replace(" active",""));var a=window.location.hash;if(""!==a){var n=e.querySelector("a[href='"+a+"']");n.className+=" active",t=n}}}}();window.onhashchange=t["switch"],t["switch"]()}var a=document.querySelectorAll("textarea");if(null!==a)for(var n=0,o=a.length;o>n;n++)-1===a[n].className.indexOf("no-resize")&&autosize(a[n])};
